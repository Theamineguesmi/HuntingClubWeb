{% extends 'template.html.twig' %}

{% block body %}
<div class="row">
    <div class="col-md-6">
    <div id="div_chart" ></div>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js">

    </script>
    <script type="text/javascript"> {{ gc_draw(piechart, 'div_chart') }}
    </script>
    </div>


    <div class="col-md-6">
    <div class="card">
    <div class="card-header border-transparent">
        <h3 class="card-title">Les 5 Dernier Articles</h3>

        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                <i class="fas fa-minus"></i>
            </button>
            <button type="button" class="btn btn-tool" data-card-widget="remove">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    <!-- /.card-header -->
    <div class="card-body p-0" style="display: block;">
        <div class="table-responsive">
    <table class="table table-hover">
        <thead>
        <tr>
            <th class="content-header">#</th>
            <th class="content-header">Titre</th>


            <th  class="content-header">Ajouter le</th>
            <th  style="width:50px" align="center" class="align-content-sm-center text-center"  >Voir</th>

        </tr>
        </thead>
        <tbody>
        {% for article in articles|slice(0, 5)%}
            <tr>
                <td><a href="{{ path('article_show', { 'id': article.id }) }}">{{ article.id }}</a></td>
                <td >{{ article.titre }}</td>

                <td><a href="{{ path('article_show', { 'id': article.id }) }}" >{{ article.dateAjout }}</a></td>
                <td>


                        <a class="btn bg-gradient-primary btn-sm" href="{{ path('article_post', { 'id': article.id }) }}" ><i class="fas fa-file"></i></a>


                        </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
        </div>
        <!-- /.table-responsive -->
    </div>
        <!-- /.card-body -->
        <div class="card-footer clearfix" style="display: block;">

                <a class="btn-sm bg-gradient-primary" href="{{ path('article_index') }}" class="btn btn-sm btn-info float-left">Article Pannel</a>
                &nbsp;
                <a class="btn-sm bg-gradient-primary" href="{{ path('article_new') }}" class="btn btn-sm btn-info float-left">Ajouter Article</a>
            &nbsp;

            <a href="{{ path('article_liste') }}" class="btn btn-sm btn-secondary float-right">Voir le Blog</a>
        </div>
    </div>
    </div>


    <div class="col-md-6"><br>
        <div class="card">
            <div class="card-header border-transparent">
                <h3 class="card-title">Les 5 Dernier Commentaire</h3>

                <div class="card-tools">
                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                        <i class="fas fa-minus"></i>
                    </button>
                    <button type="button" class="btn btn-tool" data-card-widget="remove">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <!-- /.card-header -->
            <div class="card-body p-0" style="display: block;">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th class="content-header">#</th>
                            <th  style="width: 1050px;" class="content-header">Commentaire</th>
                            <th style="width: 1050px;" class="content-header">Article</th>


                            <th  class="content-header">Ajouter le</th>
                            <th  style="width:50px" align="center" class="align-content-sm-center text-center"  >Voir</th>

                        </tr>
                        </thead>
                        <tbody>
                        {% for commentaire in commentaires|slice(0, 5)%}
                            <tr>
                                <td><a href="{{ path('commentaire_show', { 'id': commentaire.id }) }}">{{ commentaire.id }}</a></td>
                                <td >{{ commentaire.contenu }}</td>

                                <td><a href="{{ path('article_show', { 'id': commentaire.idArticle.id }) }}" >{{ commentaire.idArticle.titre }}</a></td>
                                <td><a href="{{ path('commentaire_show', { 'id': commentaire.id  }) }}" >{{ commentaire.dateAjout }}</a></td>
                                <td>


                                    <a class="btn bg-gradient-primary btn-sm" href="{{ path('article_post', { 'id': commentaire.idArticle.id }) }}" ><i class="fas fa-file"></i></a>


                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
                <!-- /.table-responsive -->
            </div>
        </div>
        <div class="col-md-6">
            <!-- /.card-body -->
            <div class="card-footer clearfix" style="display: block;">

                <a class="btn-sm bg-gradient-primary" href="{{ path('commentaire_index') }}" class="btn btn-sm btn-info float-left">Commentaire Pannel</a>
                &nbsp;


                <a href="{{ path('article_liste') }}" class="btn btn-sm btn-secondary float-right">Voir le Blog</a>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="info-box mb-3 bg-warning">
            <span class="info-box-icon"><i class="fas fa-tag"></i></span>

            <div class="info-box-content">
                <span class="info-box-text">Inventory</span>
                <span class="info-box-number">5,200</span>
            </div>
            <!-- /.info-box-content -->
        </div>
    </div>


{% endblock %}